<!DOCTYPE html><!-- [ 김찬영  2023-08-28 오후 05:59:28 ] -->
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/common.css"> 
<link rel="stylesheet" href="../css/reset.css"> 
</head>
<body>
<h1 class="title">$.ajax() 함수를 사용한 텍스트 읽기</h1>
<div class="exec">
	<input type="button" value="txt파일 가져오기" id="mybtn" />
</div>
<div class="console" id="result"></div>

<script type="text/javascript" src="http://code.jquery.com/jquery-3.7.0.min.js"></script>
<!-- 안됨. -->
<script>
$(function(){
	$('#mybtn').click(function(){
		//$. = jquery. 이랑 똑같다
		$.ajax({
			type: 'get' ,//get방식으로 요청을 할것이다.
			//url: 'http://localhost:8080/jQueryAJax/text/test01.txt', 같은 서울시안에서 편지보내면 서울특별시생략가능.
			url: '/jQueryAJax/text/text01.txt', //같은 프로젝트안이라서 앞에 URL안쓰고 이렇게 써도 다 인식된다.
			dataType: 'text',//서버로 부터 돌아올때 어떤 타입의 데이터를 가져올 건지.
			timeout: 3000, // 3초 까지는 기다리겠다.
			cache: false , //저장 같은거 안하겠다.
			success: function(data){
				$('#result').html(data);
			},
			error: function(xhr,textStatus, errorThrown){ // xhr은 xml http request약자
				$('div').html('<div>' + textStatus + '(HTTP-' + xhr.status + '/'+ errorThrown + ')' + '</div>');
			}
		});
	});
});
</script>
</body>
</html>